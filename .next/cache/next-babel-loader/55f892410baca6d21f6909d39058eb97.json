{"ast":null,"code":"var _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _reactJsxDevRuntime = require(\"react/jsx-dev-runtime\");\n\nvar _jsxFileName = \"/var/www/html/blog/pages/gl.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar React = require(\"react-native\");\n\nvar GL = require(\"gl-react\");\n\nvar _require = require(\"gl-react-native\"),\n    Surface = _require.Surface;\n\nvar shaders = GL.Shaders.create({\n  oneFingerResponse: {\n    frag: \"\\nprecision mediump float;\\nvarying vec2 uv;\\n\\nuniform float pressed;\\nuniform vec2 position;\\n\\nvoid main () {\\n  float dist = pow(1.0 - distance(position, uv), 4.0);\\n  float edgeDistX = pow(1.0 - distance(position.x, uv.x), 24.0);\\n  float edgeDistY = pow(1.0 - distance(position.y, uv.y), 24.0);\\n  gl_FragColor = pressed * vec4(0.8 * dist + edgeDistX, 0.7 * dist + edgeDistY, 0.6 * dist, 1.0);\\n}\\n    \"\n  }\n});\n\nvar OneFingerResponse = /*#__PURE__*/function (_React$Component) {\n  \"use strict\";\n\n  _inherits(OneFingerResponse, _React$Component);\n\n  var _super = _createSuper(OneFingerResponse);\n\n  function OneFingerResponse(props) {\n    var _this;\n\n    _classCallCheck(this, OneFingerResponse);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      pressed: 0,\n      position: [0, 0]\n    };\n    _this.onTouchStart = _this.onTouchStart.bind(_assertThisInitialized(_this));\n    _this.onTouchEnd = _this.onTouchEnd.bind(_assertThisInitialized(_this));\n    _this.onTouchMove = _this.onTouchMove.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(OneFingerResponse, [{\n    key: \"onTouchStart\",\n    value: function onTouchStart(evt) {\n      this.setState({\n        pressed: 1\n      });\n      this.onTouchMove(evt);\n    }\n  }, {\n    key: \"onTouchMove\",\n    value: function onTouchMove(evt) {\n      var _this$props = this.props,\n          width = _this$props.width,\n          height = _this$props.height;\n      var _evt$nativeEvent = evt.nativeEvent,\n          locationX = _evt$nativeEvent.locationX,\n          locationY = _evt$nativeEvent.locationY;\n      this.setState({\n        position: [Math.max(0, Math.min(locationX / width, 1)), Math.max(0, Math.min(1 - locationY / height, 1))]\n      });\n    }\n  }, {\n    key: \"onTouchEnd\",\n    value: function onTouchEnd() {\n      this.setState({\n        pressed: 0\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          width = _this$props2.width,\n          height = _this$props2.height;\n      var _this$state = this.state,\n          pressed = _this$state.pressed,\n          position = _this$state.position;\n      return /*#__PURE__*/_reactJsxDevRuntime.jsxDEV(Surface, {\n        onStartShouldSetResponderCapture: function onStartShouldSetResponderCapture() {\n          return true;\n        },\n        onMoveShouldSetResponderCapture: function onMoveShouldSetResponderCapture() {\n          return true;\n        },\n        onResponderTerminationRequest: function onResponderTerminationRequest() {\n          return false;\n        },\n        onResponderGrant: this.onTouchStart,\n        onResponderMove: this.onTouchMove,\n        onResponderRelease: this.onTouchEnd,\n        onResponderTerminate: this.onTouchEnd,\n        width: width,\n        height: height,\n        children: /*#__PURE__*/_reactJsxDevRuntime.jsxDEV(GL.Node, {\n          shader: shaders.oneFingerResponse,\n          uniforms: {\n            pressed: pressed,\n            position: position\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }, this);\n    }\n  }]);\n\n  return OneFingerResponse;\n}(React.Component);","map":{"version":3,"sources":["/var/www/html/blog/pages/gl.js"],"names":["React","require","GL","Surface","shaders","Shaders","create","oneFingerResponse","frag","OneFingerResponse","props","state","pressed","position","onTouchStart","bind","onTouchEnd","onTouchMove","evt","setState","width","height","nativeEvent","locationX","locationY","Math","max","min","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,cAAD,CAArB;;AACA,IAAMC,EAAE,GAAGD,OAAO,CAAC,UAAD,CAAlB;;eACoBA,OAAO,CAAC,iBAAD,C;IAAnBE,O,YAAAA,O;;AAER,IAAMC,OAAO,GAAGF,EAAE,CAACG,OAAH,CAAWC,MAAX,CAAkB;AAC9BC,EAAAA,iBAAiB,EAAE;AACfC,IAAAA,IAAI;AADW;AADW,CAAlB,CAAhB;;IAmBMC,iB;;;;;;;AACF,6BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,CADA;AAETC,MAAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ;AAFD,KAAb;AAIA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB;AACA,UAAKE,WAAL,GAAmB,MAAKA,WAAL,CAAiBF,IAAjB,+BAAnB;AARe;AASlB;;;;iCACYG,G,EAAK;AACd,WAAKC,QAAL,CAAc;AACVP,QAAAA,OAAO,EAAE;AADC,OAAd;AAGA,WAAKK,WAAL,CAAiBC,GAAjB;AACH;;;gCACWA,G,EAAK;AAAA,wBACa,KAAKR,KADlB;AAAA,UACLU,KADK,eACLA,KADK;AAAA,UACEC,MADF,eACEA,MADF;AAAA,6BAEoBH,GAAG,CAACI,WAFxB;AAAA,UAELC,SAFK,oBAELA,SAFK;AAAA,UAEMC,SAFN,oBAEMA,SAFN;AAGb,WAAKL,QAAL,CAAc;AACVN,QAAAA,QAAQ,EAAE,CACNY,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACE,GAAL,CAASJ,SAAS,GAAGH,KAArB,EAA4B,CAA5B,CAAZ,CADM,EAENK,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACE,GAAL,CAAS,IAAIH,SAAS,GAAGH,MAAzB,EAAiC,CAAjC,CAAZ,CAFM;AADA,OAAd;AAMH;;;iCACY;AACT,WAAKF,QAAL,CAAc;AACVP,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH;;;6BACQ;AAAA,yBACqB,KAAKF,KAD1B;AAAA,UACGU,KADH,gBACGA,KADH;AAAA,UACUC,MADV,gBACUA,MADV;AAAA,wBAEyB,KAAKV,KAF9B;AAAA,UAEGC,OAFH,eAEGA,OAFH;AAAA,UAEYC,QAFZ,eAEYA,QAFZ;AAGL,0BAAO,2BAAC,OAAD;AACH,QAAA,gCAAgC,EAAE;AAAA,iBAAM,IAAN;AAAA,SAD/B;AAEH,QAAA,+BAA+B,EAAE;AAAA,iBAAM,IAAN;AAAA,SAF9B;AAGH,QAAA,6BAA6B,EAAE;AAAA,iBAAM,KAAN;AAAA,SAH5B;AAIH,QAAA,gBAAgB,EAAE,KAAKC,YAJpB;AAKH,QAAA,eAAe,EAAE,KAAKG,WALnB;AAMH,QAAA,kBAAkB,EAAE,KAAKD,UANtB;AAOH,QAAA,oBAAoB,EAAE,KAAKA,UAPxB;AAQH,QAAA,KAAK,EAAEI,KARJ;AASH,QAAA,MAAM,EAAEC,MATL;AAAA,+BAUH,2BAAC,EAAD,CAAI,IAAJ;AACI,UAAA,MAAM,EAAEjB,OAAO,CAACG,iBADpB;AAEI,UAAA,QAAQ,EAAE;AAAEK,YAAAA,OAAO,EAAPA,OAAF;AAAWC,YAAAA,QAAQ,EAARA;AAAX;AAFd;AAAA;AAAA;AAAA;AAAA;AAVG;AAAA;AAAA;AAAA;AAAA,cAAP;AAeH;;;;EAlD2Bb,KAAK,CAAC4B,S","sourcesContent":["const React = require(\"react-native\");\nconst GL = require(\"gl-react\");\nconst { Surface } = require(\"gl-react-native\");\n\nconst shaders = GL.Shaders.create({\n    oneFingerResponse: {\n        frag: `\nprecision mediump float;\nvarying vec2 uv;\n\nuniform float pressed;\nuniform vec2 position;\n\nvoid main () {\n  float dist = pow(1.0 - distance(position, uv), 4.0);\n  float edgeDistX = pow(1.0 - distance(position.x, uv.x), 24.0);\n  float edgeDistY = pow(1.0 - distance(position.y, uv.y), 24.0);\n  gl_FragColor = pressed * vec4(0.8 * dist + edgeDistX, 0.7 * dist + edgeDistY, 0.6 * dist, 1.0);\n}\n    `\n    }\n});\n\nclass OneFingerResponse extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            pressed: 0,\n            position: [0, 0]\n        };\n        this.onTouchStart = this.onTouchStart.bind(this);\n        this.onTouchEnd = this.onTouchEnd.bind(this);\n        this.onTouchMove = this.onTouchMove.bind(this);\n    }\n    onTouchStart(evt) {\n        this.setState({\n            pressed: 1\n        });\n        this.onTouchMove(evt);\n    }\n    onTouchMove(evt) {\n        const { width, height } = this.props;\n        const { locationX, locationY } = evt.nativeEvent;\n        this.setState({\n            position: [\n                Math.max(0, Math.min(locationX / width, 1)),\n                Math.max(0, Math.min(1 - locationY / height, 1))\n            ]\n        });\n    }\n    onTouchEnd() {\n        this.setState({\n            pressed: 0\n        });\n    }\n    render() {\n        const { width, height } = this.props;\n        const { pressed, position } = this.state;\n        return <Surface\n            onStartShouldSetResponderCapture={() => true}\n            onMoveShouldSetResponderCapture={() => true}\n            onResponderTerminationRequest={() => false}\n            onResponderGrant={this.onTouchStart}\n            onResponderMove={this.onTouchMove}\n            onResponderRelease={this.onTouchEnd}\n            onResponderTerminate={this.onTouchEnd}\n            width={width}\n            height={height}>\n            <GL.Node\n                shader={shaders.oneFingerResponse}\n                uniforms={{ pressed, position }}\n            />\n        </Surface>;\n    }\n}"]},"metadata":{},"sourceType":"script"}